# 日本語プログラミング言語

完全に日本語でプログラミングができる言語の設計・実装プロジェクト

## プロジェクト概要

このプロジェクトは、日本語のキーワードと自然な文法を持つプログラミング言語を実装することを目的としています。C言語で実装され、インタープリタ方式で動作します。

## 特徴

- **完全日本語**: すべてのキーワードが日本語
- **直感的な文法**: 自然な日本語の語順
- **UTF-8ネイティブ**: 日本語を第一級でサポート
- **実用的**: 配列、関数、制御構文をフルサポート
- **高度な機能**: 文字列補間、複数行文字列、デフォルト引数、パイプ演算子など

## 言語仕様

### キーワード

- `関数`, `終わり` - 関数定義
- `もし`, `それ以外`, `なら` - 条件分岐
- `条件`, `の間` - while繰り返し
- `繰り返す` - for繰り返し
- `変数`, `定数` - 変数宣言
- `戻す` - return文
- `抜ける`, `続ける` - break/continue
- `真`, `偽` - 真偽値
- `かつ`, `または`, `でない` - 論理演算子

### データ型

- **数値** - 浮動小数点数
- **真偽** - true/false
- **文字列** - UTF-8文字列
- **配列** - 動的配列
- **辞書** - ハッシュマップ（将来実装）

## サンプルコード

### Hello World

```
関数 メイン():
    表示("こんにちは、世界！")
終わり
```

### 繰り返し

```
関数 メイン():
    変数 i = 0
    条件 i < 5 の間
        表示(i)
        i = i + 1
    終わり
終わり
```

### 階乗計算

```
関数 階乗(n は 数値) は 数値:
    もし n <= 1 なら
        戻す 1
    それ以外
        戻す n * 階乗(n - 1)
    終わり
終わり

関数 メイン():
    表示("5の階乗:", 階乗(5))
終わり
```

### フィボナッチ数列

```
関数 フィボナッチ(n は 数値) は 数値:
    もし n <= 1 なら
        戻す n
    終わり
    戻す フィボナッチ(n - 1) + フィボナッチ(n - 2)
終わり

関数 メイン():
    i を 0 から 10 繰り返す
        表示(フィボナッチ(i))
    終わり
終わり
```

### 配列操作

```
関数 メイン():
    変数 数列 = [10, 20, 30, 40, 50]
    
    変数 合計 = 0
    i を 0 から 長さ(数列) - 1 繰り返す
        合計 = 合計 + 数列[i]
    終わり
    
    表示("合計:", 合計)
    表示("平均:", 合計 / 長さ(数列))
終わり
```

### 最新機能の例

#### 文字列補間

```
変数 名前 = "太郎"
表示("こんにちは、{名前}さん！")  // こんにちは、太郎さん！
```

#### デフォルト引数

```
関数 挨拶(名 = "ゲスト"):
    表示("こんにちは、" + 名 + "さん")
終わり

挨拶()        // こんにちは、ゲストさん
挨拶("太郎")  // こんにちは、太郎さん
```

#### パイプ演算子

```
関数 二倍(数):
    戻す 数 * 2
終わり

変数 結果 = 5 |> 二倍  // 二倍(5) = 10
```

#### 複数行文字列

```
変数 テキスト = """これは
複数行の
テキストです"""
```

## プロジェクト構成

```
nihongo_lang/
├── src/
│   ├── main.c              # エントリポイント
│   ├── lexer.h             # 字句解析器ヘッダー
│   ├── lexer.c             # 字句解析器実装
│   ├── ast.h               # AST定義
│   ├── ast.c               # AST実装
│   ├── parser.h            # 構文解析器ヘッダー
│   ├── parser.c            # 構文解析器実装
│   ├── evaluator.h         # 評価器ヘッダー
│   ├── evaluator.c         # 評価器実装
│   ├── value.h             # 値の定義
│   ├── value.c             # 値の実装
│   ├── environment.h       # 環境（スコープ）ヘッダー
│   └── environment.c       # 環境（スコープ）実装
├── examples/               # サンプルプログラム
│   ├── hello.jp
│   ├── factorial.jp
│   └── fibonacci.jp
├── docs/
│   ├── improved_design.md  # 詳細設計書
│   └── implementation_guide.md # 実装ガイド
├── tests/                  # テストファイル
├── Makefile               # ビルド設定
└── README.md              # このファイル
```

## ビルド方法

```bash
# コンパイル
make

# 実行
./nihongo examples/hello.jp

# テスト
make test

# クリーンアップ
make clean
```

## 開発ロードマップ

### Phase 1: 基礎（1-2週間）
- UTF-8サポート
- Lexer実装
- 基本的なParser

### Phase 2: コア機能（2-3週間）
- 式の評価
- 制御構文
- 関数呼び出し

### Phase 3: 標準機能（1-2週間）
- 組み込み関数
- 配列操作
- 文字列処理

### Phase 4: 仕上げ（1週間）
- エラー処理
- ドキュメント
- テストスイート

## 技術スタック

- **実装言語**: C (C99/C11)
- **文字エンコーディング**: UTF-8
- **パーサ方式**: 再帰下降（LL(1)）
- **実行方式**: AST直接評価

## 参考資料

- **Crafting Interpreters** - Bob Nystrom
- **プログラミング言語C** - Brian W. Kernighan, Dennis M. Ritchie
- **Unicode標準** - The Unicode Consortium
- **ドラゴンブック** - Alfred V. Aho 他

## ライセンス

MIT License

## 作者

Reo Shiozawa
