// ============================================================
// デュアルモードパッケージシステム 統合テスト
// ============================================================

変数 合格 = 0
変数 失敗 = 0

関数 チェック(名前, 実際, 期待):
    もし 文字列化(実際) == 文字列化(期待) なら
        合格 = 合格 + 1
    それ以外
        失敗 = 失敗 + 1
        表示("X " + 名前 + ": 期待=" + 文字列化(期待) + " 実際=" + 文字列化(実際))
    終わり
終わり

// テスト 1: 純粋スクリプトライブラリのインポート（名前空間付き）
取り込む "tests/lib_math" として 数学

チェック("加算", 数学["加算"](3, 4), 7)
チェック("乗算", 数学["乗算"](5, 6), 30)
チェック("階乗(5)", 数学["階乗"](5), 120)
チェック("フィボナッチ(8)", 数学["フィボナッチ"](8), 21)

// テスト 2: 名前空間なし直接インポート（別ファイルを使用）
// lib_math は既に名前空間付きでインポート済みなので直接呼び出しも可能
チェック("加算(ns)", 数学["加算"](10, 20), 30)
チェック("乗算(ns)", 数学["乗算"](3, 7), 21)

// 結果
表示("")
表示("=== デュアルモードテスト結果 ===")
表示("合格: " + 文字列化(合格) + " / 失敗: " + 文字列化(失敗))
もし 失敗 == 0 なら
    表示("全テスト通過")
それ以外
    表示("失敗あり: " + 文字列化(失敗) + " 件")
終わり
